(function(e){function t(t){for(var r,l,s=t[0],o=t[1],c=t[2],d=0,p=[];d<s.length;d++)l=s[d],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(r=!1)}r&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},i={app:0},n=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"013b":function(e,t,a){},"052a":function(e,t,a){"use strict";var r=a("ef1f"),i=a.n(r);i.a},"13a1":function(e,t,a){"use strict";var r=a("57a9"),i=a.n(r);i.a},"29ba":function(e,t,a){},"2e36":function(e,t,a){"use strict";var r=a("013b"),i=a.n(r);i.a},"426a":function(e,t,a){},"493f":function(e,t,a){"use strict";var r=a("d128"),i=a.n(r);i.a},"56d7":function(e,t,a){"use strict";a.r(t);a("d3b7"),a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),i=a("8c4f"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_container"},[a("div",{staticClass:"login_box"},[a("el-form",{ref:"loginref",staticClass:"login_form",attrs:{model:e.loginForm,rules:e.loginrules,"label-width":"0px"}},[a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{attrs:{"prefix-icon":"el-icon-user-solid"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),a("el-form-item",{staticClass:"btns"},[a("el-button",{attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),a("el-button",{attrs:{type:"info"},on:{click:e.resetLoginForm}},[e._v("重置")])],1)],1)],1)])},l=[],s=(a("96cf"),a("1da1")),o={name:"Login",data:function(){return{loginForm:{username:"lcvc",password:"123456"},loginrules:{username:[{required:!0,message:"请输入用户名称",trigger:"blur"}],password:[{required:!0,message:"密码",trigger:"blur"}]}}},methods:{resetLoginForm:function(){this.$refs.loginref.resetFields()},login:function(){var e=this;this.$refs.loginref.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:e.$http.get("/api/backstage/login?username="+e.loginForm.username+"&password="+e.loginForm.password).then((function(t){0==t.data.code?(e.$message.success("登录成功"),e.$router.push({path:"/home"})):e.$message.error("用户名或密码错误！请重新输入")}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=o,u=(a("7c77"),a("2877")),d=Object(u["a"])(c,n,l,!1,null,null,null),p=d.exports,m=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"home-container"},[r("el-aside",{staticStyle:{"background-color":"rgb(238, 241, 246)"},attrs:{width:"200px"}},[r("el-menu",{attrs:{"unique-opened":"",router:"","background-color":"#304156","text-color":"#fff","active-text-color":"#409EFF"}},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:a("e1a2"),alt:""}})]),r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user-solid"}),r("span",[e._v("个人管理")])]),r("el-menu-item",{attrs:{index:"/home/UmyPassword"}},[r("template",{slot:"title"},[r("span",[e._v("密码修改")])])],2),r("el-menu-item",{attrs:{index:"/home/myInfo"}},[r("template",{slot:"title"},[r("span",[e._v("基本信息修改")])])],2)],2),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user-solid"}),r("span",[e._v("管理员管理")])]),r("el-menu-item",{attrs:{index:"/home/adminList"}},[r("template",{slot:"title"},[r("span",[e._v("管理员列表")])])],2)],2),r("el-submenu",{attrs:{index:"4"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-user-solid"}),r("span",[e._v("物料管理")])]),r("el-menu-item",{attrs:{index:"/home/materiaList"}},[r("template",{slot:"title"},[r("span",[e._v("物资列表")])])],2),r("el-menu-item",{attrs:{index:"/home/materialtypeList"}},[r("template",{slot:"title"},[r("span",[e._v("物料类别列表")])])],2),r("el-menu-item",{attrs:{index:"/home/operationRecord"}},[r("template",{slot:"title"},[r("span",[e._v("操作记录列表")])])],2),r("el-menu-item",{attrs:{index:"/home/importAndExport"}},[r("template",{slot:"title"},[r("span",[e._v("物料导入导出")])])],2),r("el-menu-item",{attrs:{index:"/home/test"}},[r("template",{slot:"title"},[r("span",[e._v("测试")])])],2)],2)],1)],1),r("el-container",[r("el-header",[r("el-dropdown",{attrs:{placement:"top"}},[r("el-button",{attrs:{icon:"el-icon-s-custom",type:"info"}},[e._v(" 个人资料 "),r("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),r("el-dropdown-menu",{attrs:{slot:"dropdown","split-button":!0},slot:"dropdown"},[r("el-link",{staticClass:"info",attrs:{type:"primary"},on:{click:e.editor}},[e._v("个人资料编辑")]),r("div",[r("el-link",{staticClass:"logout",attrs:{type:"primary"},on:{click:e.logout}},[e._v("注销")])],1)],1)],1)],1),r("el-main",[r("router-view")],1)],1)],1)},g=[],h={created:function(){},data:function(){return{}},methods:{editor:function(){this.$router.push({path:"/home/myInfo"})},logout:function(){var e=this;this.$http.get("api/backstage/logout").then((function(t){0==t.data.code?(e.$message.success(t.data.msg),e.$router.push({path:"/"})):e.$message.error(t.data.msg)}))}}},f=h,b=(a("ca09"),Object(u["a"])(f,m,g,!1,null,"4643afc1",null)),v=b.exports,y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v("欢迎页面")])},w=[],x={data:function(){return{}},created:function(){},methods:{}},k=x,_=Object(u["a"])(k,y,w,!1,null,null,null),$=_.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._v(" 商品属性 ")])},C=[],E={data:function(){return{}},methods:{}},z=E,F=Object(u["a"])(z,D,C,!1,null,null,null),S=F.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("活动管理")]),a("el-breadcrumb-item",[e._v("活动列表")]),a("el-breadcrumb-item",[e._v("活动详情")])],1),a("el-card",{staticClass:"box-card"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.input3,callback:function(t){e.input3=t},expression:"input3"}},[a("el-select",{attrs:{slot:"prepend",placeholder:"请选择"},slot:"prepend",model:{value:e.select,callback:function(t){e.select=t},expression:"select"}},[a("el-option",{attrs:{label:"餐厅名",value:"1"}}),a("el-option",{attrs:{label:"订单号",value:"2"}}),a("el-option",{attrs:{label:"用户电话",value:"3"}})],1),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:""}},[a("el-table-column",{attrs:{prop:"date",label:"日期",width:"180"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),a("el-table-column",{attrs:{prop:"address",label:"地址"}})],1),a("el-pagination",{attrs:{"current-page":e.currentPage4,"page-sizes":[10,20,30,40],"page-size":100,layout:"total, sizes, prev, pager, next, jumper",total:100},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},T=[],A={data:function(){return{currentPage1:5,currentPage2:5,currentPage3:5,currentPage4:4,tableData:[{date:"2016-05-02",name:"王小虎",address:"上海市普陀区金沙江路 1518 弄"},{date:"2016-05-04",name:"王小虎",address:"上海市普陀区金沙江路 1517 弄"},{date:"2016-05-01",name:"王小虎",address:"上海市普陀区金沙江路 1519 弄"},{date:"2016-05-03",name:"王小虎",address:"上海市普陀区金沙江路 1516 弄"}]}},methods:{methods:{handleSizeChange:function(e){console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){console.log("当前页: ".concat(e))}}}},P=A,j=(a("b022"),Object(u["a"])(P,R,T,!1,null,"9ccea014",null)),L=j.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",{staticClass:"box-card"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.data,border:""}},[a("el-table-column",{staticStyle:{width:"10%"},attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.children,(function(t,r){return a("el-row",{key:t.id,class:["bdbtottom","middle",0==r?"topbtottom":""]},[a("el-col",{attrs:{span:5}},[a("el-tag",{attrs:{closable:""}},[e._v(e._s(t.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:19}},e._l(t.children,(function(t,r){return a("el-row",{key:t.id,class:["middle",0==r?"":"topbtottom"]},[a("el-col",{attrs:{span:6}},[a("el-tag",{attrs:{closable:"",type:"warning"}},[e._v(e._s(t.authName))]),a("i",{staticClass:"el-icon-caret-right"})],1),a("el-col",{attrs:{span:18}},e._l(t.children,(function(t){return a("el-tag",{key:t.id,attrs:{closable:"",type:"success"},on:{close:function(a){return e.deleteRoleList3(t.id)}}},[e._v(e._s(t.authName))])})),1)],1)})),1)],1)}))}}])}),a("el-table-column",{staticStyle:{width:"10%"},attrs:{type:"index"}}),a("el-table-column",{staticStyle:{width:"25%"},attrs:{prop:"roleName",label:"日期"}}),a("el-table-column",{staticStyle:{width:"25%"},attrs:{prop:"roleDesc",label:"姓名"}}),a("el-table-column",{staticStyle:{width:"30%"},attrs:{label:"操作"}},[[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"}},[e._v("编辑")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-share"}},[e._v("删除")]),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-delete"},on:{click:e.permissions}},[e._v("分配权限")])]],2)],1)],1),a("el-dialog",{attrs:{title:"分配权限",visible:e.permissionsDialogVisible,width:"30%",center:""},on:{"update:visible":function(t){e.permissionsDialogVisible=t}}},[a("el-tree",{attrs:{data:e.data2,"show-checkbox":"","node-key":"id","default-expanded-keys":[2,3],"default-checked-keys":[5]}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.permissionsDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.permissionsDialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},O=[],M={data:function(){return{permissionsDialogVisible:!1,data:[{id:30,roleName:"主管",roleDesc:"技术负责人",children:[{id:101,authName:"商品管理",path:"null",children:[{id:104,authName:"商品列表",path:null,children:[{id:105,authName:"商品列表的添加",path:null},{id:106,authName:"商品列表的添加",path:null},{id:107,authName:"商品列表的添加",path:null}]}]},{id:201,authName:"分类管理",path:"null",children:[{id:204,authName:"分类列表",path:null,children:[{id:105,authName:"分类列表的添加",path:null},{id:106,authName:"分类列表的添加",path:null},{id:107,authName:"分类列表的添加",path:null}]},{id:304,authName:"分类添加",path:null,children:[{id:105,authName:"商品列表的添加",path:null},{id:106,authName:"商品列表的添加",path:null},{id:107,authName:"商品列表的添加",path:null}]}]}]},{id:31,roleName:"主管",roleDesc:"技术负责人",children:[{id:102,authName:"商品管理",path:"null",children:[{id:105,authName:"商品列表",path:null}]}]},{id:32,roleName:"主管",roleDesc:"技术负责人",children:[{id:103,authName:"商品管理",path:"null",children:[{id:106,authName:"商品列表",path:null}]}]},{id:33,roleName:"主管",roleDesc:"技术负责人",children:[{id:104,authName:"商品管理",path:"null",children:[{id:107,authName:"商品列表",path:null}]}]}],data2:[{id:1,label:"商品管理",children:[{id:3,label:"商品列表",children:[{id:4,label:"添加商品"},{id:5,label:"商品修改"},{id:6,label:"商品删除"},{id:7,label:"更新商品图片"},{id:8,label:"更新商品属性"},{id:9,label:"更新商品状态"},{id:10,label:"更新商品详情"}]}]}]}},methods:{deleteRoleList3:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:a=e.sent,"confirm"==a?t.$message({type:"success",message:"删除成功!"}):t.$message({type:"info",message:"已取消删除"});case 4:case"end":return e.stop()}}),e)})))()},permissions:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.permissionsDialogVisible=!0;case 1:case"end":return t.stop()}}),t)})))()}}},I=M,U=(a("13a1"),Object(u["a"])(I,N,O,!1,null,"e3e73e00",null)),V=U.exports,q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumbFontSize",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("管理员管理")]),a("el-breadcrumb-item",[e._v("管理员列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"intervalDown",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"mini",clearable:!0,placeholder:"请输入账号名称"},model:{value:e.searchUsername,callback:function(t){e.searchUsername=t},expression:"searchUsername"}})],1),a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"mini",clearable:!0,placeholder:"请输入姓名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.getAdminList()}}},[e._v("搜索")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDelete,icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteAdmin()}}},[e._v("批量删除")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.clickAddDialog()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tableTopDown",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:e.adminList,border:"",height:"458px",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"username",label:"账号名"}}),a("el-table-column",{attrs:{prop:"name",label:"姓名"}}),a("el-table-column",{attrs:{prop:"role",formatter:e.getRoleName,label:"角色"}}),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间"}}),a("el-table-column",{attrs:{prop:"createTime",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.openUpdateAdmin(t.row.username)}}},[e._v("编辑")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"添加管理员",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t},close:e.addHandleClose}},[a("el-form",{ref:"raddDialog",attrs:{model:e.admin,rules:e.addRules,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"用户类型",prop:"role"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.addRole},model:{value:e.roleId,callback:function(t){e.roleId=t},expression:"roleId"}},e._l(e.roleType,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{model:{value:e.admin.username,callback:function(t){e.$set(e.admin,"username",t)},expression:"admin.username"}})],1),a("el-form-item",{attrs:{label:"昵称",prop:"name"}},[a("el-input",{model:{value:e.admin.name,callback:function(t){e.$set(e.admin,"name",t)},expression:"admin.name"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addAdmin()}}},[e._v("立即添加")]),a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改管理员",visible:e.updateDialog,width:"30%"},on:{"update:visible":function(t){e.updateDialog=t},close:e.updateHandleClose}},[a("el-form",{ref:"updateForm",attrs:{model:e.upAdminForm,"hide-required-asterisk":!0,"status-icon":"",rules:e.updateRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.upAdminForm.username,callback:function(t){e.$set(e.upAdminForm,"username",e._n(t))},expression:"upAdminForm.username"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.upAdminForm.name,callback:function(t){e.$set(e.upAdminForm,"name",t)},expression:"upAdminForm.name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.adminUpdate()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.updateDialog=!1}}},[e._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"提示",visible:e.uploadDialogVisible,width:"70%"},on:{"update:visible":function(t){e.uploadDialogVisible=t}}},[a("file-upload"),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.uploadDialogVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.uploadDialogVisible=!1}}},[e._v("确 定")])],1)],1)],1)},B=[],H=(a("4160"),a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[e._v("注意事项：")])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("ul",{staticClass:"remind"},[a("li",[a("span",[e._v("1.导入excel前建议查看下载模板中的实列，按要求添加导入信息")])]),a("li",[a("span",[e._v("2.请按照模板规范顺序导入数据")])]),a("li",[a("span",[e._v("3.标红列为必填项")])])])])],1),a("el-row",[a("el-col",{staticStyle:{"padding-left":"70px","margin-top":"20px"},attrs:{span:24}},[a("router-link",{staticClass:"download",attrs:{to:""}},[e._v("下载模板")]),a("span",{staticStyle:{color:"#FF0F0F"}},[e._v("[请按照模板规范导入数据]")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"padding-left":"70px","margin-top":"20px"},attrs:{span:14}},[a("el-upload",{ref:"upload",staticClass:"xlsxupload-demo",attrs:{action:"https://jsonplaceholder.typicode.com/posts/","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"file-list":e.fileList,accept:".xlsx, .xls","before-upload":e.beforeAvatarUpload,"auto-upload":!1,"on-error":e.uploadError,"on-success":e.uploadSuccess}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success",icon:"el-icon-upload"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.xls文件")])],1)],1)],1),a("div",{staticClass:"uploadInfo"},[e._v(" 成功导入0条记录，导入事变关键信息如下 "),a("el-table",{ref:"singleTable",staticStyle:{width:"100%"},attrs:{height:"250px",data:e.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{width:"50",property:"phase",label:"阶段"}}),a("el-table-column",{attrs:{property:"Numbers",label:"行号",width:"120"}}),a("el-table-column",{attrs:{property:"keyword",label:"关键字",width:"120"}}),a("el-table-column",{attrs:{property:"failure",label:"失败原因"}})],1)],1)],1)}),J=[],G=(a("b0c0"),{data:function(){return{fileList:[],tableData:[{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"},{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"},{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"},{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"}]}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},uploadSuccess:function(e,t,a){this.$message.success("导入成功"),this.$refs.upload.clearFiles()},uploadError:function(e,t,a){console.log(e,t,a),this.$message.success("导入失败"),this.$refs.upload.clearFiles()},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},beforeAvatarUpload:function(e){var t=!1;return console.log(e.type),("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type)&&(t=!0),t||this.$message.error("上传的文件只能是xlsx或者xls格式!"),console.log(t),t}}}),K=G,Q=(a("7b64"),Object(u["a"])(K,H,J,!1,null,null,null)),W=Q.exports,X={components:{fileUpload:W},created:function(){this.getAdminList()},data:function(){return{uploadDialogVisible:!1,addRules:{role:[{required:!0,message:"请选择权限",trigger:"blur"}],name:[{required:!0,message:"请输入昵称",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}]},updateRules:{name:[{required:!0,message:"请输入昵称",trigger:"blur"}],username:[{required:!0,message:"请输入用户名",trigger:"blur"}]},getRoleName:function(e,t){return 1===e.role?"管理员":"用户"},roleType:[{id:1,name:"管理员"},{id:2,name:"用户"}],searchUsername:"",searchName:"",loading:!0,pageSize:10,total:0,currentPage:1,adminList:[],Myloading:{},deleteAdminArray:[],isDelete:!0,addDialog:!1,admin:{username:"",name:"",role:""},roleId:"",upAdminForm:{username:"",name:"",createTime:""},updateDialog:!1}},methods:{handleSizeChange:function(e){this.pageSize=e,this.getAdminList()},handleCurrentChange:function(e){this.currentPage=e,this.getAdminList()},getAdminList:function(){var e=this;this.loading=!0,this.$http.get("api/backstage/admin/manage/query?limit="+this.pageSize+"&page="+this.currentPage+"&username="+this.searchUsername+"&name="+this.searchName).then((function(t){0==t.data.code?(e.adminList=t.data.data,e.total=t.data.count,e.loading=!1):(e.$message.error(t.data.msg),e.loading=!1)}))},toggleSelection:function(e){var t=this;e?e.forEach((function(a){t.$refs.multipleTable.toggleRowSelection(a),console.log(e+"   "+a)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){console.log(e),this.deleteAdminArray=[];for(var t=e.length,a=0;a<t;a++)this.deleteAdminArray.push(e[a].username);this.deleteAdminArray.length>0?this.isDelete=!1:this.isDelete=!0},deleteAdmin:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将永久删除用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=t.sent,"confirm"===a){t.next=5;break}return t.abrupt("return",e.$message.info("已取消删除"));case 5:e.$http.delete("api/backstage/admin/manage/"+e.deleteAdminArray).then((function(t){0==t.data.code?(e.getAdminList(),e.$message.success("删除成功")):e.$message.error(t.data.msg)}));case 6:case"end":return t.stop()}}),t)})))()},addHandleClose:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.raddDialog.resetFields(),e.roleId="";case 2:case"end":return t.stop()}}),t)})))()},clickAddDialog:function(){this.addDialog=!0},addAdmin:function(){var e=this;console.log(this.admin),this.$http.post("api/backstage/admin/manage/",this.admin).then((function(t){0==t.data.code?(e.getAdminList(),e.$message.success("添加成功"),e.addDialog=!1,e.roleId=""):e.$message.error(t.data.msg)}))},addRole:function(e){this.admin.role=e},openUpdateAdmin:function(e){var t=this;this.updateDialog=!0,this.$http.get("api/backstage/admin/manage//"+e).then((function(e){0==e.data.code?t.upAdminForm=e.data.data:t.$message.error(e.data.msg)}))},adminUpdate:function(){var e=this;this.$refs.updateForm.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:e.$http.put("api/backstage/admin/manage/",e.upAdminForm).then((function(t){0==t.data.code?(e.getAdminList(),e.$message.success("更新成功"),e.updateDialog=!1):e.$message.error(t.data.msg)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},updateHandleClose:function(){this.$refs.updateForm.resetFields()},dataLoading:function(){this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},Y=X,Z=(a("d915"),Object(u["a"])(Y,q,B,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{ref:"uploadss",attrs:{action:"http://8.129.162.212:8086/api/backstage/user/","list-type":"picture-card","file-list":e.fileList,"on-preview":e.handlePictureCardPreview,"auto-upload":!1,multiple:"","before-remove":e.beforeRemove,"on-success":e.uploadsuccess}},[a("i",{staticClass:"el-icon-plus"})]),a("el-button",{attrs:{type:"primary"},on:{click:e.upload}},[e._v("上传")]),a("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),a("el-upload",{ref:"uploadss2",staticClass:"upload-demo",attrs:{action:"http://8.129.162.212:8086/api/backstage/user/",multiple:"","file-list":e.fileList2,"auto-upload":!1,"before-remove":e.beforeRemove2}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jpg/png文件，且不超过500kb")])],1),a("el-button",{attrs:{type:"primary"},on:{click:e.upload2}},[e._v("上传")])],1)},ae=[],re={data:function(){return{fileList:[{name:"扎根是",url:"http://edu-liang.oss-cn-beijing.aliyuncs.com/2020/09/24/1b5c9d2965d34c11b7f0e9614a0119a2323.png"},{name:"扎根是2",url:"http://182.92.128.70:8081/upload/website/image/20190905/1567674305605094892.jpg"}],fileList2:[],dialogImageUrl:"",dialogVisible:!1}},methods:{handlePictureCardPreview:function(e){this.dialogImageUrl=e.url,this.dialogVisible=!0},upload:function(){this.$refs.uploadss.submit()},upload2:function(){this.$refs.uploadss2.submit()},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},beforeRemove2:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},uploadsuccess:function(e){console.log(e.data)}}},ie=re,ne=Object(u["a"])(ie,te,ae,!1,null,"260bcb60",null),le=ne.exports,se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumbFontSize",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("物料管理")]),a("el-breadcrumb-item",[e._v("物料列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"intervalDown",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"mini",clearable:!0,placeholder:"请输入物料名称"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{size:"mini",clearable:"",placeholder:"请输入物料类别"},model:{value:e.searchTypeValue,callback:function(t){e.searchTypeValue=t},expression:"searchTypeValue"}},e._l(e.materialtypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.getMaterialList()}}},[e._v("搜索")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.clickAddDialog()}}},[e._v("添加")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDelete,icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteMaterial2()}}},[e._v("批量删除")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.derivedTables()}}},[e._v("物料导出")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tableTopDown",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:e.materialList,border:"",height:"458px",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}),a("el-table-column",{attrs:{prop:"chinese",label:"图片",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:t.row.english,"preview-src-list":e.srcList}})],1)]}}])}),a("el-table-column",{attrs:{prop:"chinese",label:"中文",width:"150"}}),a("el-table-column",{attrs:{prop:"english",label:"英文",width:"350"}}),a("el-table-column",{attrs:{prop:"spanish",label:"西班牙语",width:"150"}}),a("el-table-column",{attrs:{prop:"spanish",label:"物料提议数",width:"150"}}),a("el-table-column",{attrs:{prop:"materialType.name",label:"物料类型",width:"150"}}),a("el-table-column",{attrs:{fixed:"right",label:"编辑词条操作",width:"480"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.photoDlalog(t.row.id)}}},[e._v("图片管理")]),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.updateChineseDlalog(t.row.id)}}},[e._v("编辑中文词条")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.updateEnglish(t.row.id)}}},[e._v("编辑英文词条")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.updateEs(t.row.id)}}},[e._v("编辑西文词条")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,40],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"物料图片管理","close-on-click-modal":!1,visible:e.photoDialogVisible,width:"40%",center:""},on:{"update:visible":function(t){e.photoDialogVisible=t}}},[a("div",{staticClass:"photoManagement",staticStyle:{"text-align":"center"}},[a("image-components",{attrs:{Id:e.materiaId}})],1)]),a("el-dialog",{attrs:{title:"分类类别",visible:e.typeDialog,width:"30%"},on:{"update:visible":function(t){e.typeDialog=t}}},[a("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.typeObject,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"id"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.typeObject.id,callback:function(t){e.$set(e.typeObject,"id",t)},expression:"typeObject.id"}})],1),a("el-form-item",{attrs:{label:"类别名"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.typeObject.name,callback:function(t){e.$set(e.typeObject,"name",t)},expression:"typeObject.name"}})],1),a("el-form-item",{attrs:{label:"sort",disabled:!0}},[a("el-input",{attrs:{disabled:!0},model:{value:e.typeObject.sort,callback:function(t){e.$set(e.typeObject,"sort",t)},expression:"typeObject.sort"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.typeDialog=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.typeDialog=!1}}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{"close-on-click-modal":!1,title:"添加物料",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t},close:e.addHandleClose}},[a("el-form",{ref:"raddDialog",attrs:{model:e.material,rules:e.Typerules,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.obtain},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.materialtypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"中文",prop:"chinese"}},[a("el-input",{model:{value:e.material.chinese,callback:function(t){e.$set(e.material,"chinese",t)},expression:"material.chinese"}})],1),a("el-form-item",{attrs:{label:"英语",prop:"english"}},[a("el-input",{model:{value:e.material.english,callback:function(t){e.$set(e.material,"english",t)},expression:"material.english"}})],1),a("el-form-item",{attrs:{label:"西班牙语",prop:"spanish"}},[a("el-input",{model:{value:e.material.spanish,callback:function(t){e.$set(e.material,"spanish",t)},expression:"material.spanish"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("立即添加")]),a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改物料",visible:e.updateDialog,width:"30%","close-on-click-modal":!1},on:{"update:visible":function(t){e.updateDialog=t},close:e.updateHandleClose}},[a("el-form",{ref:"rupdateDialog",attrs:{model:e.material,rules:e.Typerules,"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"类别",prop:"value"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},on:{change:e.obtain},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.materialtypes,(function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{attrs:{label:"中文",prop:"chinese"}},[a("el-input",{model:{value:e.material.chinese,callback:function(t){e.$set(e.material,"chinese",t)},expression:"material.chinese"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateChinese()}}},[e._v("立即修改")]),a("el-button",{on:{click:function(t){e.updateDialog=!1}}},[e._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"英文磁条编辑","close-on-click-modal":!1,visible:e.englishdialogTable,width:"66%"},on:{"update:visible":function(t){e.englishdialogTable=t}}},[a("div",{staticClass:"trimming2"},[a("audit-Record",{attrs:{Id:e.materiaId}})],1)])],1)},oe=[],ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"trimming2",attrs:{gutter:10}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDelete,icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteEnglishMaterial()}}},[e._v("批量删除")])],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDelete,icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteMaterial2()}}},[e._v("批量拒绝提议")])],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.clickAddDialog()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tableTopDown",attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:e.EnglishRecordList,border:!0,height:"300px"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"material.chinese",label:"物料名称"}}),a("el-table-column",{attrs:{property:"english",label:"英语"}}),a("el-table-column",{attrs:{property:"audit",formatter:e.getAuditName,label:"状态"}}),a("el-table-column",{attrs:{property:"operator.name",label:"提议人"}}),a("el-table-column",{attrs:{property:"createTime",label:"提议时间"}}),a("el-table-column",{attrs:{property:"auditor.username",label:"审核人"}}),a("el-table-column",{attrs:{property:"auditTime",label:"审核时间"}}),a("el-table-column",{attrs:{label:"编辑词条操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success",icon:"iconfont icon-tijikongjian"},on:{click:function(a){return e.approved(t.row.id)}}},[e._v("审核通过")])]}}])})],1),a("el-pagination",{staticClass:"trimming",attrs:{"current-page":e.EcurrentPage,"page-sizes":[10,20,30,40],"page-size":e.EpageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.Etotal},on:{"size-change":e.EhandleSizeChange,"current-change":e.EhandleCurrentChange}}),a("el-dialog",{attrs:{title:"添加英语词条",visible:e.addDialogVisible,width:"30%","modal-append-to-body":!1,"append-to-body":!0,"close-on-click-modal":!1},on:{"update:visible":function(t){e.addDialogVisible=t}}},[a("el-form",{ref:"rupdateDialog",attrs:{"status-icon":"","label-width":"80px"}},[a("el-form-item",{attrs:{label:"英语"}},[a("el-input",{model:{value:e.addEnglishRecord.english,callback:function(t){e.$set(e.addEnglishRecord,"english",t)},expression:"addEnglishRecord.english"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addEnglish()}}},[e._v("立即添加")]),a("el-button",{on:{click:function(t){e.addDialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},ue=[],de={data:function(){return{getAuditName:function(e,t){return 1==e.audit?"审核通过":0==e.audit?"待定":null===e.audit?"未审核":void 0},materialId:"",loading:!0,engilishData:[{id:1,name:"轮子",engilish:"lunzi",proponent:"张三",ProposedDate:"2020-09-27",status:"待定",reviewer:"lcvc",auditDate:"2020-09-28"},{id:2,name:"轮子",engilish:"fsd",proponent:"李四",ProposedDate:"2020-09-27",status:"待定",reviewer:"lcvc",auditDate:"2020-09-28"},{id:3,name:"轮子",engilish:"lunzi",proponent:"王五",ProposedDate:"2020-09-27",status:"待定",reviewer:"lcvc",auditDate:"2020-09-28"},{id:4,name:"轮子",engilish:"lunzi",proponent:"牛七",ProposedDate:"2020-09-27",status:"待定",reviewer:"liang",auditDate:"2020-09-28"}],EnglishRecordList:[],EpageSize:10,Etotal:0,EcurrentPage:1,isDelete:!0,recordDeleteArray:[],addDialogVisible:!1,addEnglishRecord:{english:"",materialId:""}}},props:["Id"],created:function(){this.getEnglishRecord(this.Id),console.log("监听"+this.Id),this.addEnglishRecord.materialId=this.Id},methods:{handleSelectionChange:function(e){this.recordDeleteArray=[];for(var t=e.length,a=0;a<t;a++)this.recordDeleteArray.push(e[a].id);this.recordDeleteArray.length>0?(console.log("选中"+this.recordDeleteArray),this.isDelete=!1):(this.isDelete=!0,console.log("未选择"))},deleteEnglishMaterial:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将永久删除记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=t.sent,"confirm"===a){t.next=5;break}return t.abrupt("return",e.$message.info("已取消删除"));case 5:e.$http.delete("api/backstage/materialenglishhistory/"+e.recordDeleteArray).then((function(t){0==t.data.code?(e.getEnglishRecord(),e.$message.success("删除成功")):e.$message.error(t.data.msg)}));case 6:case"end":return t.stop()}}),t)})))()},EhandleSizeChange:function(e){this.EpageSize=e},EhandleCurrentChange:function(e){this.EcurrentPage=e},clickAddDialog:function(){this.addDialogVisible=!0},addEnglish:function(){var e=this;this.$http.post("api/backstage/materialenglishhistory",this.addEnglishRecord).then((function(t){0==t.data.code?(e.$message.success("添加成功"),e.getEnglishRecord(),e.addDialogVisible=!1,e.addEnglishRecord.english=""):e.$message.error(t.data.msg)}))},getEnglishRecord:function(){var e=this;this.$http.get("api/backstage/materialenglishhistory/query?limit="+this.EpageSize+"&page="+this.EcurrentPage+"&material.id="+this.Id).then((function(t){0==t.data.code?(e.EnglishRecordList=t.data.data,e.Etotal=t.data.count):e.$message.error(t.data.msg),e.loading=!1}))},approved:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将更改英语词库记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=5;break}return a.abrupt("return",t.$message.info("已取消删除"));case 5:t.$http.put("api/backstage/materialenglishhistory/manage/audit/"+e+"?audit=true").then((function(e){0==e.data.code?(t.$message.success("审核成功"),t.getEnglishRecord()):t.$message.error(e.data.msg)}));case 6:case"end":return a.stop()}}),a)})))()}},watch:{Id:function(e,t){this.getEnglishRecord(),this.addEnglishRecord.materialId=this.Id}}},pe=de,me=Object(u["a"])(pe,ce,ue,!1,null,null,null),ge=me.exports,he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{ref:"upload",staticClass:"materialUpload",attrs:{name:"files",action:e.uploadUrl,"list-type":"picture","file-list":e.fileList,"auto-upload":!1,"with-credentials":!0,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"on-error":e.uploadError,"on-success":e.uploadSuccess}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:e.submitUpload}},[e._v("上传到服务器")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.materialPhotos,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"fileName",label:"物料图片"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("div",{staticClass:"demo-image__preview"},[a("el-image",{staticStyle:{width:"40px",height:"40px"},attrs:{src:e.row.picUrl}})],1)]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"上传时间"}}),a("el-table-column",{attrs:{width:"80px",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small",type:"text"},on:{click:function(a){return e.deletePhoto(t.row.id)}}},[e._v("删除图片")])]}}])})],1)],1)},fe=[],be={data:function(){return{dialogImageUrl:"",dialogVisible:!1,disabled:!1,materialPhotos:[],uploadUrl:"",srcList:[],fileList:[]}},created:function(){this.getMaterialPhoto(),this.uploadUrl="http://112.124.19.158:8091/api/backstage/material/manage/photo/"+this.Id},methods:{handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},getMaterialPhoto:function(){var e=this;this.$http.get("api/backstage/material/"+this.Id).then((function(t){0==t.data.code?(e.materialPhotos=t.data.data.materialPhotos,console.log(e.materialPhotos)):e.$message.error(t.data.msg)}))},submitUpload:function(){console.log(this.uploadUrl),this.$refs.upload.submit()},uploadSuccess:function(e,t,a){-1===e.code?this.$message.error(e.msg):(this.$message.success("导入成功"),this.getMaterialPhoto()),this.$refs.upload.clearFiles()},uploadError:function(e,t,a){console.log(e,t,a),this.$message.success("导入失败"),this.$refs.upload.clearFiles()},deletePhoto:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$confirm("此操作将永久删除物料图片, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(r=a.sent,"confirm"===r){a.next=6;break}return console.log(e),a.abrupt("return",t.$message.info("已取消删除"));case 6:t.$http.delete("api/backstage/material/manage/photo/"+e).then((function(e){0==e.data.code?(t.getMaterialPhoto(),t.$message.success("删除成功"),t.addDialog=!1):t.$message.error(e.data.msg)}));case 7:case"end":return a.stop()}}),a)})))()}},props:["Id"],watch:{Id:function(e,t){this.getMaterialPhoto(),this.uploadUrl="http://112.124.19.158:8091/api/backstage/material/manage/photo/"+this.Id}}},ve=be,ye=(a("f984"),Object(u["a"])(ve,he,fe,!1,null,"a3b1b82c",null)),we=ye.exports,xe={components:{auditRecord:ge,imageComponents:we},created:function(){this.getMaterialList(),this.getMaterialtype()},data:function(){return{Typerules:{chinese:[{required:!0,message:"请输入对应的中文",trigger:"blur"}],english:[{required:!0,message:"请输入对应的英文",trigger:"blur"}],spanish:[{required:!0,message:"请输入对应的西班牙语",trigger:"blur"}]},loading:!0,pageSize:10,total:0,currentPage:1,EpageSize:10,Etotal:20,EcurrentPage:1,materialList:[],srcList:[" http://182.92.128.70:8081/upload/customer_profile_picture/1.jpg?0.4189754055273244"],typeDialog:!1,addDialog:!1,updateDialog:!1,photoDialogVisible:!1,typeObject:{id:0,name:"",sort:""},material:{materialType:{id:0,name:"",sort:0},chinese:"",english:"",spanish:""},deleteMaterialArray:[],deleteMaterialArray2:[],isDelete:!0,materialtypes:[],value:"",searchName:"",searchTypeValue:"",engilishData:[{name:"轮子",engilish:"lunzi",proponent:"张三",ProposedDate:"2020-09-27",status:"待定",reviewer:"lcvc",auditDate:"2020-09-28"},{name:"轮子",engilish:"fsd",proponent:"李四",ProposedDate:"2020-09-27",status:"待定",reviewer:"lcvc",auditDate:"2020-09-28"},{name:"轮子",engilish:"lunzi",proponent:"王五",ProposedDate:"2020-09-27",status:"待定",reviewer:"lcvc",auditDate:"2020-09-28"},{name:"轮子",engilish:"lunzi",proponent:"牛七",ProposedDate:"2020-09-27",status:"待定",reviewer:"liang",auditDate:"2020-09-28"}],englishdialogTable:!1,materiaId:""}},methods:{toggleSelection:function(e){var t=this;e?e.forEach((function(a){t.$refs.multipleTable.toggleRowSelection(a),console.log(e+"   "+a)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.deleteMaterialArray2=[];for(var t=e.length,a=0;a<t;a++)this.deleteMaterialArray2.push(e[a].id);this.deleteMaterialArray2.length>0?(console.log("选中"+this.deleteMaterialArray2),this.isDelete=!1):(this.isDelete=!0,console.log("未选择"))},handleSizeChange:function(e){this.pageSize=e,this.getMaterialList()},handleCurrentChange:function(e){this.currentPage=e,this.getMaterialList()},EhandleSizeChange:function(e){this.EpageSize=e},EhandleCurrentChange:function(e){this.EcurrentPage=e},addHandleClose:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.raddDialog.resetFields(),e.value="";case 2:case"end":return t.stop()}}),t)})))()},getMaterialList:function(){var e=this;this.loading=!0,this.$http.get("api/backstage/material/query?limit="+this.pageSize+"&page="+this.currentPage+"&chinese="+this.searchName+"&materialType.id="+this.searchTypeValue).then((function(t){0==t.data.code?(e.materialList=t.data.data,e.total=t.data.count,e.loading=!1):(e.$message.error(t.data.msg),e.loading=!1)}))},examine:function(e){var t=this;this.typeDialog=!0,this.$http.get("api/backstage/materialtype/"+e).then((function(e){0==e.data.code?t.typeObject=e.data.data:(t.$message.error(e.data.msg),t.loading=!1)}))},getMaterialtype:function(){var e=this;this.$http.get("api/backstage/materialtype/all").then((function(t){0==t.data.code?e.materialtypes=t.data.data:e.loading=!1}))},getSearch:function(){},obtain:function(e){var t=this;console.log(e),this.$http.get("api/backstage/materialtype/"+e).then((function(e){0==e.data.code?(t.material.materialType=e.data.data,console.log(t.material.materialType.name)):(t.$message.error(e.data.msg),t.loading=!1)}))},clickAddDialog:function(){this.addDialog=!0,this.getMaterialtype()},add:function(){var e=this;this.addDialog=!0,this.getMaterialtype(),this.$refs.raddDialog.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:e.$http.post("api/backstage/material/manage",e.material).then((function(t){0==t.data.code?(e.getMaterialList(),e.$message.success("添加成功"),e.addDialog=!1):e.$message.error(t.data.msg)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},deleteMaterial:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.deleteMaterialArray=e,a.next=3,t.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 3:if(r=a.sent,"confirm"===r){a.next=7;break}return console.log(t.deleteMaterialArray),a.abrupt("return",t.$message.info("已取消删除"));case 7:t.$http.delete("api/backstage/material/manage/"+t.deleteMaterialArray).then((function(e){0==e.data.code?(t.getMaterialList(),t.$message.success("删除成功"),t.addDialog=!1):t.$message.error(e.data.msg)}));case 8:case"end":return a.stop()}}),a)})))()},deleteMaterial2:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将永久删除物料, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=t.sent,"confirm"===a){t.next=6;break}return console.log(e.deleteMaterialArray2),t.abrupt("return",e.$message.info("已取消删除"));case 6:e.$http.delete("api/backstage/material/manage/"+e.deleteMaterialArray2).then((function(t){0==t.data.code?(e.getMaterialList(),e.$message.success("删除成功"),e.addDialog=!1):e.$message.error(t.data.msg)}));case 7:case"end":return t.stop()}}),t)})))()},getMateria:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$http.get("api/backstage/material/"+e).then((function(e){0==e.data.code?(t.material=e.data.data,t.value=t.material.materialType.id):t.$message.error(e.data.msg)}));case 1:case"end":return a.stop()}}),a)})))()},updateChineseDlalog:function(e){this.updateDialog=!0,this.getMateria(e)},updateChinese:function(){this.$message.error("功能开发中，敬请期待")},updateHandleClose:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.rupdateDialog.resetFields(),e.value="",e.material.english="",e.getMaterialList();case 4:case"end":return t.stop()}}),t)})))()},updateEnglish:function(e){this.englishdialogTable=!0,this.materiaId=e},photoDlalog:function(e){this.photoDialogVisible=!0,this.materiaId=e},derivedTables:function(){window.location.href="http://112.124.19.158:8091/api/backstage/material/manage/excel"},updateEs:function(e){this.$message.error("功能开发中，敬请期待")}}},ke=xe,_e=(a("7cbe"),Object(u["a"])(ke,se,oe,!1,null,null,null)),$e=_e.exports,De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumbFontSize",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("个人管理")]),a("el-breadcrumb-item",[e._v("密码修改")])],1),a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"ruleForm",staticClass:"myForm",attrs:{model:e.ruleForm,"hide-required-asterisk":!0,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"原密码",prop:"password"}},[a("el-input",{model:{value:e.ruleForm.password,callback:function(t){e.$set(e.ruleForm,"password",e._n(t))},expression:"ruleForm.password"}})],1),a("el-form-item",{attrs:{label:"密码",prop:"newPass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.newPass,callback:function(t){e.$set(e.ruleForm,"newPass",t)},expression:"ruleForm.newPass"}})],1),a("el-form-item",{attrs:{label:"确认密码",prop:"rePass"}},[a("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.ruleForm.rePass,callback:function(t){e.$set(e.ruleForm,"rePass",t)},expression:"ruleForm.rePass"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},Ce=[],Ee={data:function(){var e=this,t=function(t,a,r){""===a?r(new Error("请输入密码")):(""!==e.ruleForm.rePass&&e.$refs.ruleForm.validateField("rePass"),r())},a=function(t,a,r){""===a?r(new Error("请再次输入密码")):a!==e.ruleForm.newPass?r(new Error("两次输入密码不一致!")):r()};return{ruleForm:{password:"",newPass:"",rePass:""},rules:{newPass:[{validator:t,trigger:"blur"}],rePass:[{validator:a,trigger:"blur"}],password:[{required:!0,message:"请输入原密码",trigger:"blur"}]}}},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&(console.log("进来了？"),t.$http.patch("/api/backstage/admin/password",t.ruleForm).then((function(e){0==e.data.code?(t.$message.success(e.data.msg),t.resetForm("ruleForm")):t.$message.error(e.data.msg)})))}))},resetForm:function(e){this.$refs[e].resetFields()}}},ze=Ee,Fe=(a("2e36"),Object(u["a"])(ze,De,Ce,!1,null,"1bfcaf2e",null)),Se=Fe.exports,Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumbFontSize",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("个人管理")]),a("el-breadcrumb-item",[e._v("个人信息")])],1),a("el-card",{staticClass:"box-card"},[a("el-form",{ref:"ruleForm",staticClass:"myForm",attrs:{model:e.InfoForm,"hide-required-asterisk":!0,"status-icon":"",rules:e.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"用户名",prop:"username"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.InfoForm.username,callback:function(t){e.$set(e.InfoForm,"username",e._n(t))},expression:"InfoForm.username"}})],1),a("el-form-item",{attrs:{label:"姓名",prop:"name"}},[a("el-input",{model:{value:e.InfoForm.name,callback:function(t){e.$set(e.InfoForm,"name",t)},expression:"InfoForm.name"}})],1),a("el-form-item",{attrs:{label:"角色"}},[a("el-input",{attrs:{disabled:!0},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("提交")]),a("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)},Te=[],Ae={data:function(){return{name:"",InfoForm:{username:"",name:"",role:"",createTime:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}]}}},created:function(){this.getCurrentAdmin()},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){e&&t.$message.success("功能开发中")}))},resetForm:function(e){this.$refs[e].resetFields()},getCurrentAdmin:function(){var e=this;console.log("发起请求没有"),this.$http.get("/api/backstage/admin").then((function(t){e.InfoForm=t.data.data,1===e.InfoForm.role?e.name="管理员":2===e.InfoForm.role?e.name="用户":e.name="未知权限",console.log(e.name)}))}}},Pe=Ae,je=(a("052a"),Object(u["a"])(Pe,Re,Te,!1,null,"2d410eb7",null)),Le=je.exports,Ne=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumbFontSize",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("管理员管理")]),a("el-breadcrumb-item",[e._v("管理员列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{staticClass:"intervalDown",attrs:{gutter:20}},[a("el-col",{attrs:{span:4}},[a("el-input",{attrs:{size:"mini",clearable:!0,placeholder:"请输入英语名"},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),a("el-col",{attrs:{span:4}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:function(t){return e.getEnglishRecord()}}},[e._v("搜索")])],1)],1),a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:3}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDelete,icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteEnglishMaterial()}}},[e._v("批量删除")])],1)],1),a("el-table",{staticClass:"tableTopDown",attrs:{data:e.EnglishRecordList,border:!0,height:"458px"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{property:"material.chinese",label:"物料名称"}}),a("el-table-column",{attrs:{property:"english",label:"英语"}}),a("el-table-column",{attrs:{property:"audit",label:"状态"}}),a("el-table-column",{attrs:{property:"operator.name",label:"提议人"}}),a("el-table-column",{attrs:{property:"createTime",label:"提议时间"}}),a("el-table-column",{attrs:{property:"auditor.username",label:"审核人"}}),a("el-table-column",{attrs:{property:"auditTime",label:"审核时间"}})],1),a("el-pagination",{staticClass:"trimming",attrs:{"current-page":e.EcurrentPage,"page-sizes":[10,20,30,40],"page-size":e.EpageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.Etotal},on:{"size-change":e.EhandleSizeChange,"current-change":e.EhandleCurrentChange}})],1)],1)},Oe=[],Me={data:function(){return{materialId:"",EnglishRecordList:[],EpageSize:10,Etotal:"",EcurrentPage:1,isDelete:!0,recordDeleteArray:[],addDialogVisible:!1,addName:"",addEnglishName:"",searchName:""}},props:["Id"],created:function(){this.getEnglishRecord(this.materialId)},methods:{handleSelectionChange:function(e){this.recordDeleteArray=[];for(var t=e.length,a=0;a<t;a++)this.recordDeleteArray.push(e[a].id);this.recordDeleteArray.length>0?(console.log("选中"+this.recordDeleteArray),this.isDelete=!1):(this.isDelete=!0,console.log("未选择"))},deleteEnglishMaterial:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将永久删除用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=t.sent,"confirm"===a){t.next=5;break}return t.abrupt("return",e.$message.info("已取消删除"));case 5:e.$http.delete("api/backstage/materialenglishhistory/"+e.recordDeleteArray).then((function(t){0==t.data.code?(e.getEnglishRecord(),e.$message.success("删除成功")):e.$message.error(t.data.msg)}));case 6:case"end":return t.stop()}}),t)})))()},EhandleSizeChange:function(e){this.EpageSize=e},EhandleCurrentChange:function(e){this.EcurrentPage=e},getEnglishRecord:function(){var e=this;this.$http.get("api/backstage/materialenglishhistory/query?limit="+this.EpageSize+"&page="+this.EcurrentPage+"&english="+this.searchName).then((function(t){0==t.data.code?(e.EnglishRecordList=t.data.data,e.Etotal=t.data.count):e.$message.error(t.data.msg)}))}}},Ie=Me,Ue=Object(u["a"])(Ie,Ne,Oe,!1,null,"19b062e2",null),Ve=Ue.exports,qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-breadcrumb",{staticClass:"breadcrumbFontSize",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/"}}},[e._v("首页")]),a("el-breadcrumb-item",[e._v("物料管理")]),a("el-breadcrumb-item",[e._v("类别列表")])],1),a("el-card",{staticClass:"box-card"},[a("el-row",{attrs:{gutter:10}},[a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",disabled:e.isDelete,icon:"el-icon-delete-solid"},on:{click:function(t){return e.deleteMaterialType()}}},[e._v("批量删除")])],1),a("el-col",{attrs:{span:2}},[a("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-circle-plus-outline"},on:{click:function(t){return e.clickAddDialog()}}},[e._v("添加")])],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"multipleTable",staticClass:"tableTopDown",staticStyle:{width:"100%"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading",data:e.materialTypeList,border:"",height:"470px",stripe:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name",label:"物料类别名"}}),a("el-table-column",{attrs:{prop:"sort",label:"排序"}}),a("el-table-column",{attrs:{prop:"materialNumber",label:"物料数"}}),a("el-table-column",{attrs:{prop:"sort",label:"物料提议数"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.openUpdateMaterialType(t.row.id)}}},[e._v("编辑")])]}}])})],1)],1),a("el-dialog",{attrs:{title:"添加物料类别",visible:e.addDialog,width:"30%"},on:{"update:visible":function(t){e.addDialog=t},close:e.addHandleClose}},[a("el-form",{ref:"raddDialog",attrs:{model:e.materialtype,rules:e.addRules,"status-icon":"","label-width":"110px"}},[a("el-form-item",{attrs:{label:"物料类别名称",prop:"name"}},[a("el-input",{model:{value:e.materialtype.name,callback:function(t){e.$set(e.materialtype,"name",t)},expression:"materialtype.name"}})],1),a("el-form-item",{attrs:{label:"排序优先级",prop:"sort"}},[a("el-input",{model:{value:e.materialtype.sort,callback:function(t){e.$set(e.materialtype,"sort",t)},expression:"materialtype.sort"}})],1),a("el-form-item",{attrs:{size:"large"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addMaterialType()}}},[e._v("立即添加")]),a("el-button",{on:{click:function(t){e.addDialog=!1}}},[e._v("取消")])],1)],1)],1),a("el-dialog",{attrs:{title:"修改类别",visible:e.updateDialog,width:"30%"},on:{"update:visible":function(t){e.updateDialog=t},close:e.updateDialogClose}},[a("el-form",{ref:"rupdateDialog",attrs:{model:e.materialtype,"hide-required-asterisk":!0,"status-icon":"",rules:e.addRules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"物料类别名称",prop:"name"}},[a("el-input",{model:{value:e.materialtype.name,callback:function(t){e.$set(e.materialtype,"name",t)},expression:"materialtype.name"}})],1),a("el-form-item",{attrs:{label:"排序优先级",prop:"sort"}},[a("el-input",{model:{value:e.materialtype.sort,callback:function(t){e.$set(e.materialtype,"sort",t)},expression:"materialtype.sort"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.updateMaterial()}}},[e._v("提交")]),a("el-button",{on:{click:function(t){e.updateDialog=!1}}},[e._v("取消")])],1)],1)],1)],1)},Be=[],He={created:function(){this.getMaterialTypeList()},data:function(){return{addRules:{name:[{required:!0,message:"请输入类别",trigger:"blur"}],sort:[{required:!0,message:"请输入排序优先级",trigger:"blur"}]},loading:!0,pageSize:10,total:0,currentPage:1,materialTypeList:[],Myloading:{},deleteTypeArray:[],isDelete:!0,addDialog:!1,materialtype:{name:"",sort:100},roleId:"",updateDialog:!1}},methods:{getMaterialTypeList:function(){var e=this;this.loading=!0,this.$http.get("api/backstage/materialtype/all").then((function(t){0==t.data.code?(e.materialTypeList=t.data.data,console.log(e.materialTypeList),e.loading=!1):(e.$message.error(t.data.msg),e.loading=!1)}))},toggleSelection:function(e){var t=this;e?e.forEach((function(a){t.$refs.multipleTable.toggleRowSelection(a),console.log(e+"   "+a)})):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){console.log(e),this.deleteTypeArray=[];for(var t=e.length,a=0;a<t;a++)this.deleteTypeArray.push(e[a].id);this.deleteTypeArray.length>0?(console.log(this.deleteTypeArray),this.isDelete=!1):this.isDelete=!0},deleteMaterialType:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$confirm("此操作将永久删除用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=t.sent,"confirm"===a){t.next=5;break}return t.abrupt("return",e.$message.info("已取消删除"));case 5:e.$http.delete("api/backstage/materialtype/manage/"+e.deleteTypeArray).then((function(t){0==t.data.code?(e.getMaterialTypeList(),e.$message.success("删除成功")):e.$message.error(t.data.msg)}));case 6:case"end":return t.stop()}}),t)})))()},addHandleClose:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$refs.raddDialog.resetFields(),e.roleId="";case 2:case"end":return t.stop()}}),t)})))()},clickAddDialog:function(){this.addDialog=!0},addMaterialType:function(){var e=this;this.$refs.raddDialog.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:e.$http.post("api/backstage/materialtype/manage",e.materialtype).then((function(t){0==t.data.code?(e.getMaterialTypeList(),e.$message.success("添加成功"),e.addDialog=!1):e.$message.error(t.data.msg)}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},openUpdateMaterialType:function(e){var t=this;this.updateDialog=!0,this.$http.get("api/backstage/materialtype/"+e).then((function(e){0==e.data.code?t.materialtype=e.data.data:t.$message.error(e.data.msg)}))},updateDialogClose:function(){this.$refs.rupdateDialog.resetFields()},updateMaterial:function(){var e=this;this.$refs.rupdateDialog.validate(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:console.log("请求后台了"),e.$http.put("api/backstage/materialtype/manage/",e.materialtype).then((function(t){0==t.data.code?(e.getMaterialTypeList(),e.$message.success("更新成功"),e.updateDialog=!1):e.$message.error(t.data.msg)}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},dataLoading:function(){this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"})}}},Je=He,Ge=(a("493f"),Object(u["a"])(Je,qe,Be,!1,null,"8a941052",null)),Ke=Ge.exports,Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-col",{attrs:{span:24}},[e._v("注意事项：")])],1),a("el-row",[a("el-col",{attrs:{span:24}},[a("ul",{staticClass:"remind"},[a("li",[a("span",[e._v("1.导入excel前建议查看下载模板中的实列，按要求添加导入信息")])]),a("li",[a("span",[e._v("2.请按照模板规范顺序导入数据")])]),a("li",[a("span",[e._v("3.标红列为必填项")])])])])],1),a("el-row",[a("el-col",{staticStyle:{"padding-left":"70px","margin-top":"20px"},attrs:{span:24}},[a("router-link",{staticClass:"download",attrs:{to:""},nativeOn:{click:function(t){return e.Export(t)}}},[e._v("下载模板")]),a("span",{staticStyle:{color:"#FF0F0F"}},[e._v("[请按照模板规范导入数据]")])],1)],1),a("el-row",[a("el-col",{staticStyle:{"padding-left":"70px","margin-top":"20px"},attrs:{span:14}},[a("el-upload",{ref:"upload",staticClass:"xlsxupload-demo",attrs:{"with-credentials":!0,action:"http://112.124.19.158:8091/api/backstage/material/manage/excel","on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,"file-list":e.fileList,accept:".xlsx, .xls","before-upload":e.beforeAvatarUpload,"auto-upload":!1,"on-error":e.uploadError,"on-success":e.uploadSuccess}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success",icon:"el-icon-upload"},on:{click:e.submitUpload}},[e._v("上传到服务器")]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传.xls文件")])],1)],1)],1)],1)},We=[],Xe={data:function(){return{fileList:[],tableData:[{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"},{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"},{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"},{phase:"校验",Numbers:3,keyword:"上海市普陀区金沙江路 1518 号",failure:"上海市普陀区金沙江路 1518号 上海市普陀区金沙江路 1518号"}]}},methods:{submitUpload:function(){this.$refs.upload.submit()},handleRemove:function(e,t){console.log(e,t)},handlePreview:function(e){console.log(e)},uploadSuccess:function(e,t,a){this.$message.success("导入成功"),this.$refs.upload.clearFiles()},uploadError:function(e,t,a){console.log(e,t,a),this.$message.success("导入失败"),this.$refs.upload.clearFiles()},beforeRemove:function(e,t){return this.$confirm("确定移除 ".concat(e.name,"？"))},beforeAvatarUpload:function(e){var t=!1;return console.log(e.type),("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===e.type||"application/vnd.ms-excel"===e.type)&&(t=!0),t||this.$message.error("上传的文件只能是xlsx或者xls格式!"),console.log(t),t},Export:function(){window.location.href="http://112.124.19.158:8091/api/backstage/material/manage/excel"}}},Ye=Xe,Ze=(a("bbbe"),Object(u["a"])(Ye,Qe,We,!1,null,null,null)),et=Ze.exports;r["default"].use(i["a"]);var tt=[{path:"/",name:"Login",component:p},{path:"/home",name:"Home",redirect:"/home/welcome",component:v,children:[{path:"welcome",component:$},{path:"fileUpload",component:le},{path:"adminList",component:ee},{path:"materiaList",component:$e},{path:"UmyPassword",component:Se},{path:"myInfo",component:Le},{path:"operationRecord",component:Ve},{path:"materialtypeList",component:Ke},{path:"fileUpload2",component:W},{path:"importAndExport",component:et},{path:"test",component:we},{path:"goodsList",component:S},{path:"userList",component:L},{path:"roleList",component:V}]}],at=new i["a"]({routes:tt}),rt=at,it=a("2f62");r["default"].use(it["a"]);var nt=new it["a"].Store({state:{},mutations:{},actions:{},modules:{}}),lt=a("5c96"),st=a.n(lt),ot=(a("0fae"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)}),ct=[],ut={},dt=Object(u["a"])(ut,ot,ct,!1,null,null,null),pt=dt.exports,mt=(a("aede"),a("bc3a")),gt=a.n(mt);a("f9e3"),a("82da");r["default"].use(st.a),gt.a.interceptors.response.use((function(e){return-9===e.data.code?(rt.push("/"),!1):-104!==e.data.code&&e}),(function(e){return Promise.reject()})),r["default"].prototype.$http=gt.a,r["default"].config.productionTip=!1,gt.a.defaults.withCredentials=!0,r["default"].prototype.openLoading=function(){var e=this.$loading({lock:!0,text:"正在加载...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.3)",target:".sub-main",body:!0,customClass:"mask"});return e},gt.a.defaults.headers.patch["Content-Type"]="application/json;charSet=UTF-8",gt.a.defaults.baseURL="http://112.124.19.158:8091",new r["default"]({router:rt,store:nt,render:function(e){return e(pt)}}).$mount("#app")},"57a9":function(e,t,a){},"5cfe":function(e,t,a){},"737d":function(e,t,a){},"746d":function(e,t,a){},"7b64":function(e,t,a){"use strict";var r=a("737d"),i=a.n(r);i.a},"7c77":function(e,t,a){"use strict";var r=a("8f4a"),i=a.n(r);i.a},"7cbe":function(e,t,a){"use strict";var r=a("d74e"),i=a.n(r);i.a},"82da":function(e,t,a){},"8f4a":function(e,t,a){},aede:function(e,t,a){},b022:function(e,t,a){"use strict";var r=a("29ba"),i=a.n(r);i.a},b6cc:function(e,t,a){},bbbe:function(e,t,a){"use strict";var r=a("5cfe"),i=a.n(r);i.a},ca09:function(e,t,a){"use strict";var r=a("746d"),i=a.n(r);i.a},d128:function(e,t,a){},d74e:function(e,t,a){},d915:function(e,t,a){"use strict";var r=a("426a"),i=a.n(r);i.a},e1a2:function(e,t,a){e.exports=a.p+"assets/img/logo (2).c640fe99.png"},ef1f:function(e,t,a){},f984:function(e,t,a){"use strict";var r=a("b6cc"),i=a.n(r);i.a}});